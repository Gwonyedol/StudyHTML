<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link href="//netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script src="//netdna.bootstrapcdn.com/bootstrap/3.1.0/js/bootstrap.min.js"></script>
<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
     <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script type="text/javascript">
//http://openapi.airkorea.or.kr/openapi/services/rest/ArpltnInforInqireSvc/getMinuDustFrcstDspth?serviceKey=Yy%2Bq%2FlctfN7aQ06Vl56d8%2FJ%2BUmOG3MacyMqqj7U5iaMmUlsKg%2FXPS6MLn9D2W9LBhkiX5LtwhaTuSc4pPgkXgw%3D%3D&InformCode=PM25
 
      $(function() {
        const url = 'https://yts.am/api/v2/list_movies.json?';
        // sort_by=rating&genre=action
        $('#btn').click(function() {
          $.getJSON(
            url,
            {
              sort_by: $('#sort').val(),
              genre: $('#genre').val(),
            },
            function(json) {
              const movieList = json.data.movies;
              $('#poster').empty();
              $.each(movieList, function(index, movie) {
                $('<a>').html(
                    $('<img>').attr('src', movie.medium_cover_image).addClass('poster')
                  )
                  .attr('href', movie.url)
                  .appendTo($('#poster'));
              });
            }
          );
        });
      });
    </script>
    
    <style>
.filterable {
    margin-top: 15px;
}
.filterable .panel-heading .pull-right {
    margin-top: -20px;
}
.filterable .filters input[disabled] {
    background-color: transparent;
    border: none;
    cursor: auto;
    box-shadow: none;
    padding: 0;
    height: auto;
}
.filterable .filters input[disabled]::-webkit-input-placeholder {
    color: #333;
}
.filterable .filters input[disabled]::-moz-placeholder {
    color: #333;
}
.filterable .filters input[disabled]:-ms-input-placeholder {
    color: #333;
}
    </style>
        
</head>
<body>
    <div class="row">
        <div class="panel panel-primary filterable">
            <div class="panel-heading">
                <h3 class="panel-title">데이터분석</h3>
                <div class="pull-right">
        <select name="sort" id="sort" style ="color :black">
          <option value="rating">평점순</option>
        <option value="download_count">다운로드순</option>
        <option value="like_count">좋아요순</option>
        <option value="date_added">최신등록순</option>
      </select>
      <select name="genre" id="genre" style ="color :black">
          <option value="Adventure">Adventure</option>
        <option value="action">Action</option>
        <option value="drama">Drama</option>
        <option value="western">Western</option>
        <option value="fantasy">Fantasy</option>
        <option value="Comedy">Comedy</option>
        <option value="Family">Family</option>
        <option value="Romance">Romance</option>
      </select>
                    <button class="btn btn-default btn-xs btn-filter" id = "btn"><span class="glyphicon glyphicon-filter"></span> 검색</button>
                </div>
            </div>
            <div id = "poster">
            </div>
        </div>
    </div>

</body>
</html>
